(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c44ccef6"],{"002e":function(e,t,n){},"0835":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"user-wrapper",class:e.theme},[n("span",{staticClass:"action",on:{click:e.showClick}},[n("a-icon",{attrs:{type:"search"}})],1),n(e.searchMenuComp,{directives:[{name:"show",rawName:"v-show",value:e.searchMenuVisible||e.isMobile(),expression:"searchMenuVisible || isMobile()"}],tag:"component",staticClass:"borders",attrs:{visible:e.searchMenuVisible,title:"搜索菜单",footer:null},on:{cancel:function(t){e.searchMenuVisible=!1}}},[n("a-select",{staticClass:"search-input",style:e.isMobile()?{width:"100%",marginBottom:"50px"}:{},attrs:{showSearch:"",showArrow:!1,placeholder:"搜索菜单",optionFilterProp:"children",filterOption:e.filterOption,open:!!e.isMobile()||null,getPopupContainer:function(e){return e.parentNode}},on:{change:e.searchMethods,blur:e.hiddenClick}},e._l(e.searchMenuOptions,(function(t,i){return n("a-select-option",{key:i,attrs:{value:t.id}},[e._v(e._s(t.title))])})),1)],1),n("a-dropdown",[n("span",{staticClass:"action action-full ant-dropdown-link user-dropdown-menu whenhover"},[n("img",{staticStyle:{width:"33px",height:"33px","margin-right":"10px","border-radius":"100%"},attrs:{src:e.avatar()}}),e.isDesktop()?n("span",[e._v("欢迎您，"+e._s(e.username()))]):e._e()]),n("a-menu",{staticClass:"user-dropdown-menu-wrapper",attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",{key:"4",on:{click:e.updatePassword}},[n("a-icon",{attrs:{type:"setting"}}),n("span",[e._v("密码修改")])],1)],1)],1),n("span",{staticClass:"action"},[n("a",{staticClass:"logout_title",attrs:{href:"javascript:;"},on:{click:e.handleLogout}},[n("a-icon",{attrs:{type:"logout"}}),e.isDesktop()?n("span",[e._v(" 退出登录")]):e._e()],1)]),n("update-password",{ref:"userPassword"})],1)},r=[],s=n("f5b4"),a=n("2f62"),o=n("f855");function l(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=c(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,o=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){o=!0,s=e},f:function(){try{a||null==n.return||n.return()}finally{if(o)throw s}}}}function c(e,t){if(e){if("string"===typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p={name:"UserMenu",mixins:[o["a"]],data:function(){return{searchMenuOptions:[],searchMenuComp:"span",searchMenuVisible:!1}},components:{UpdatePassword:s["default"]},props:{theme:{type:String,required:!1,default:"dark"}},created:function(){var e=[];this.searchMenus(e,this.permissionMenuList),this.searchMenuOptions=[].concat(e)},computed:f({},Object(a["d"])({permissionMenuList:function(e){return e.user.permissionList}})),watch:{device:{immediate:!0,handler:function(){this.searchMenuVisible=!1,this.searchMenuComp=this.isMobile()?"a-modal":"span"}}},methods:f(f(f({showClick:function(){this.searchMenuVisible=!0},hiddenClick:function(){this.shows=!1}},Object(a["b"])(["Logout"])),Object(a["c"])(["username","avatar","userInfo"])),{},{handleLogout:function(){var e=this;this.$confirm({title:"提示",content:"真的要注销登录吗 ?",okText:"确认",cancelText:"取消",onOk:function(){return e.Logout({}).then((function(){e.$router.push({path:"/user/login"})})).catch((function(t){e.$message.error({title:"错误",description:t.message})}))},onCancel:function(){}})},updatePassword:function(){var e=this.username();this.$refs.userPassword.show(e)},searchMenus:function(e,t){var n,i=l(t);try{for(i.s();!(n=i.n()).done;){var r=n.value;r.hidden||e.push(r),r.children&&r.children.length>0&&this.searchMenus(e,r.children)}}catch(s){i.e(s)}finally{i.f()}},filterOption:function(e,t){return t.componentOptions.children[0].text.toLowerCase().indexOf(e.toLowerCase())>=0},searchMethods:function(e){var t=this.searchMenuOptions.filter((function(t){return t.id===e}))[0];this.$router.push({path:t.path}),this.searchMenuVisible=!1}})},m=p,g=(n("7135"),n("5cb6"),n("2877")),b=Object(g["a"])(m,i,r,!1,null,"760d05d3",null);t["default"]=b.exports},"15da":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"logo"},[n("router-link",{attrs:{to:e.routerLinkTo}},[n("h1",{staticStyle:{"font-size":"21px"}},[e._v(e._s(e.title))])])],1)},r=[],s={name:"Logo",props:{title:{type:String,default:"Real 管理系统",required:!1},routerLinkTo:{type:Object,default:function(){return{name:"index"}}}}},a=s,o=(n("fb48"),n("2877")),l=Object(o["a"])(a,i,r,!1,null,"837aa14e",null);t["default"]=l.exports},"1a45":function(e,t,n){},2638:function(e,t,n){"use strict";function i(){return i=Object.assign||function(e){for(var t,n=1;n<arguments.length;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)}var r=["attrs","props","domProps"],s=["class","style","directives"],a=["on","nativeOn"],o=function(e){return e.reduce((function(e,t){for(var n in t)if(e[n])if(-1!==r.indexOf(n))e[n]=i({},e[n],t[n]);else if(-1!==s.indexOf(n)){var o=e[n]instanceof Array?e[n]:[e[n]],c=t[n]instanceof Array?t[n]:[t[n]];e[n]=o.concat(c)}else if(-1!==a.indexOf(n))for(var u in t[n])if(e[n][u]){var d=e[n][u]instanceof Array?e[n][u]:[e[n][u]],f=t[n][u]instanceof Array?t[n][u]:[t[n][u]];e[n][u]=d.concat(f)}else e[n][u]=t[n][u];else if("hook"==n)for(var h in t[n])e[n][h]=e[n][h]?l(e[n][h],t[n][h]):t[n][h];else e[n]=t[n];else e[n]=t[n];return e}),{})},l=function(e,t){return function(){e&&e.apply(this,arguments),t&&t.apply(this,arguments)}};e.exports=o},"29ca":function(e,t,n){},52941:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=this,n=t.$createElement,i=t._self._c||n;return i("a-layout",{staticClass:"layout",class:[t.device]},["mobile"===t.device?i("a-drawer",{attrs:{wrapClassName:"drawer-sider "+t.navTheme,placement:"left",closable:!1,visible:t.collapsed,width:"200px"},on:{close:function(){return e.collapsed=!1}}},["mobile"===t.device?i("side-menu",{attrs:{mode:"inline",menus:t.menus,theme:t.navTheme,collapsed:!1,collapsible:!0}}):t._e()],1):t._e(),i("side-menu",{directives:[{name:"show",rawName:"v-show",value:"desktop"===t.device,expression:"device === 'desktop'"}],attrs:{mode:"inline",menus:t.menus,theme:t.navTheme,collapsed:t.collapsed,collapsible:!0}}),i("a-layout",{class:[t.layoutMode,"content-width-"+t.contentWidth],style:{paddingLeft:t.fixSiderbar&&t.isDesktop()?(t.sidebarOpened?200:80)+"px":"0"}},[i("global-header",{attrs:{mode:t.layoutMode,menus:t.menus,theme:t.navTheme,collapsed:t.collapsed},on:{toggle:t.toggle}}),i("a-layout-content",{style:{height:"100%",paddingTop:t.fixedHeader?"59px":"0"}},[i("router-view")],1),i("a-layout-footer",{staticStyle:{padding:"0px"}},[i("global-footer")],1)],1)],1)},r=[],s=n("5a23"),a=n("998e"),o=n("5b9f"),l=n("e064"),c=n("8ed7"),u=n("2f62"),d=n("f855");function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m={name:"GlobalLayout",components:{SideMenu:s["default"],GlobalHeader:a["default"],GlobalFooter:o["default"],FlyTagAndContent:l["default"]},mixins:[d["a"]],data:function(){return{collapsed:!1,activeMenu:{},menus:[]}},computed:h({},Object(u["d"])({permissionMenuList:function(e){return e.user.permissionList}})),watch:{sidebarOpened:function(e){this.collapsed=!e}},created:function(){this.menus=this.permissionMenuList,this.collapsed=!this.sidebarOpened},methods:h(h({},Object(u["b"])(["setSidebar"])),{},{toggle:function(){this.collapsed=!this.collapsed,this.setSidebar(!this.collapsed),Object(c["a"])()},menuSelect:function(){this.isDesktop()||(this.collapsed=!1)}})},g=m,b=(n("f2fd"),n("2877")),v=Object(b["a"])(g,i,r,!1,null,null,null);t["default"]=v.exports},"5a23":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-layout-sider",{class:["sider",e.isDesktop()?null:"shadow",e.theme,e.fixSiderbar?"ant-fixed-sidemenu":null],attrs:{width:"208px",collapsible:e.collapsible,trigger:null},model:{value:e.collapsed,callback:function(t){e.collapsed=t},expression:"collapsed"}},[n("logo"),n("s-menu",{style:e.smenuStyle,attrs:{collapsed:e.collapsed,menu:e.menus,theme:e.theme,mode:e.mode},on:{select:e.onSelect}})],1)},r=[],s=n("1fca"),a=n("15da"),o=n("2638"),l=n.n(o),c=n("55f1"),u=n("0c63");function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=g(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,o=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){o=!0,s=e},f:function(){try{a||null==n.return||n.return()}finally{if(o)throw s}}}}function g(e,t){if(e){if("string"===typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var v=c["a"].Item,y=c["a"].SubMenu,w={name:"SMenu",props:{menu:{type:Array,required:!0},theme:{type:String,required:!1,default:"dark"},mode:{type:String,required:!1,default:"inline"},collapsed:{type:Boolean,required:!1,default:!1}},data:function(){return{openKeys:[],selectedKeys:[],cachedOpenKeys:[]}},computed:{rootSubmenuKeys:function(e){var t=[];return e.menu.forEach((function(e){return t.push(e.path)})),t}},mounted:function(){this.updateMenu()},watch:{collapsed:function(e){e?(this.cachedOpenKeys=this.openKeys.concat(),this.openKeys=[]):this.openKeys=this.cachedOpenKeys},$route:function(){this.updateMenu()}},methods:{onOpenChange:function(e){var t=this;if("horizontal"!==this.mode){var n=e.find((function(e){t.openKeys.includes(e)}));this.rootSubmenuKeys.includes(n)?this.openKeys=n?[n]:[]:this.openKeys=e}else this.openKeys=e},updateMenu:function(){var e=this.$route.matched.concat(),t=this.$route.meta.hidden;e.length>=3&&t?(e.pop(),this.selectedKeys=[e[e.length-1].path]):this.selectedKeys=[e.pop().path];var n=[];if("inline"===this.mode&&e.forEach((function(e){n.push(e.path)})),this.selectedKeys[0].includes(":")){var i=this.$route.fullPath;this.selectedKeys=[i];var r=[];this.fullOpenKeys(this.menu,i,r),r.length>0&&(n=r.reverse())}(!this.selectedKeys||this.selectedKeys[0].indexOf(":")<0)&&(this.collapsed?this.cachedOpenKeys=n:this.openKeys=n)},fullOpenKeys:function(e,t,n){var i,r=m(e);try{for(r.s();!(i=r.n()).done;){var s=i.value;if(s.path===t)return n.push(s.path),!0;if(Array.isArray(s.children)&&this.fullOpenKeys(s.children,t,n))return n.push(s.path),!0}}catch(a){r.e(a)}finally{r.f()}},renderItem:function(e){return e.hidden?null:e.children&&!e.alwaysShow?this.renderSubMenu(e):this.renderMenuItem(e)},renderMenuItem:function(e){var t=this.$createElement,n=e.meta.target||null,i=n?"a":"router-link",r={to:{name:e.name}};e.route&&"0"===e.route&&(r={to:{path:e.path}});var s={href:e.path,target:e.meta.target};return e.children&&e.alwaysShow&&e.children.forEach((function(e){e.meta=Object.assign(e.meta,{hidden:!0})})),t(v,l()([{},{key:e.path}]),[t(i,{props:h({},r),attrs:h({},s)},[this.renderIcon(e.icon),t("span",[e.title])])])},renderSubMenu:function(e){var t=this,n=this.$createElement,i=[];return e.alwaysShow||e.children.forEach((function(e){return i.push(t.renderItem(e))})),n(y,l()([{},{key:e.path}]),[n("span",{slot:"title"},[this.renderIcon(e.meta.icon),n("span",[e.title])]),i])},renderIcon:function(e){var t=this.$createElement;if("none"===e||void 0===e)return null;var n={};return"object"===d(e)?n.component=e:n.type=e,t(u["a"],{props:h({},n)})}},render:function(){var e=this,t=arguments[0],n=this.mode,i=this.theme,r=this.menu,s={mode:n,theme:i,openKeys:this.openKeys},a={select:function(t){e.selectedKeys=t.selectedKeys,e.$emit("select",t)},openChange:this.onOpenChange},o=r.map((function(t){return t.hidden?null:e.renderItem(t)}));return t(c["a"],{props:h({},s),on:h({},a),model:{value:e.selectedKeys,callback:function(t){e.selectedKeys=t}}},[o])}},O=n("f855"),k={name:"SideMenu",components:{ALayoutSider:s["a"],Logo:a["default"],SMenu:w},mixins:[O["a"]],props:{mode:{type:String,required:!1,default:"inline"},theme:{type:String,required:!1,default:"dark"},collapsible:{type:Boolean,required:!1,default:!1},collapsed:{type:Boolean,required:!1,default:!1},menus:{type:Array,required:!0}},computed:{smenuStyle:function(){var e={padding:"0"};return this.fixSiderbar&&(e["height"]="calc(100% - 59px)",e["overflow"]="auto",e["overflow-x"]="hidden"),e}},methods:{onSelect:function(e){this.$emit("menuSelect",e)}}},x=k,P=(n("60c3"),n("8ef0"),n("2877")),L=Object(P["a"])(x,i,r,!1,null,"4d0af475",null);t["default"]=L.exports},"5b9f":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"footer"},[n("div",{staticClass:"links"},[n("a",{attrs:{href:"javascript:;",trigger:"click"}},[n("a-popover",{attrs:{title:"微信小程序二维码"}},[n("template",{slot:"content"},[n("img",{staticClass:"itemImg",attrs:{src:"https://mis-western-restaurant.oss-cn-guangzhou.aliyuncs.com/images/2022/05/22/0cab86c4-73b5-4f57-a263-0fda4720802a.jpg",alt:""}})]),e._v(" Real 餐厅管理系统 ")],2)],1),e._m(0),n("a",{attrs:{href:"https://github.com/zhangdaiscott/jeecg-boot",target:"blank"}},[e._v("特别感谢---jeecg-boot")])]),n("div",{staticClass:"copyright"},[e._v(" Copyright "),n("a-icon",{attrs:{type:"copyright"}}),e._v(" 2021 "),n("a-popover",{staticStyle:{"max-width":"100%"},attrs:{title:"项目成员",trigger:"click"}},[n("template",{slot:"content"},[n("div",{staticClass:"people"},e._l(e.people,(function(t){return n("div",{key:t.name,staticClass:"item"},[n("div",{staticClass:"text"},[e._v(e._s(t.text))]),n("div",{staticClass:"name"},[e._v(e._s(t.name))]),n("img",{staticClass:"itemImg",attrs:{src:t.src,alt:""}})])})),0)]),n("a",[e._v("Real团队 出品")])],2)],1)])},r=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a",{attrs:{href:"https://gitee.com/mo__om/westfood"}},[n("img",{attrs:{src:"https://mis-western-restaurant.oss-cn-guangzhou.aliyuncs.com/images/2022/05/22/c9597985-18c1-491d-a1c3-a87392485bca.png",alt:""}})])}],s={name:"LayoutFooter",data:function(){return{people:[{text:"项目经理、前端设计师、工程师",name:"mo_om",src:"https://mis-western-restaurant.oss-cn-guangzhou.aliyuncs.com/images/2022/04/24/edd8a478-d41a-4db3-aa7f-a0ea650471de.png"},{text:"后端架构师、工程师、运维",name:"Listener",src:"https://mis-western-restaurant.oss-cn-guangzhou.aliyuncs.com/images/2022/04/24/2202cd16-0a8d-4fad-913b-4d4331c8d0d8.png"},{text:"产品经理、设计师、文档撰写者",name:"再见月亮镇",src:"https://mis-western-restaurant.oss-cn-guangzhou.aliyuncs.com/images/2022/04/24/6c6c3755-5a4c-448f-a4ab-d3ab0d464545.png"},{text:"测试员、数据员",name:"布吉倒",src:"https://mis-western-restaurant.oss-cn-guangzhou.aliyuncs.com/images/2022/04/24/749814d9-d608-470a-8261-7ed7ba0f2f71.png"}]}}},a=s,o=(n("7012"),n("7d57"),n("2877")),l=Object(o["a"])(a,i,r,!1,null,"69fe98e8",null);t["default"]=l.exports},"5cb6":function(e,t,n){"use strict";n("eb8d")},"60c3":function(e,t,n){"use strict";n("f668")},6270:function(e,t,n){},7012:function(e,t,n){"use strict";n("7f15")},7135:function(e,t,n){"use strict";n("002e")},"7d57":function(e,t,n){"use strict";n("f377")},"7f15":function(e,t,n){},"88d5":function(e,t,n){"use strict";n("af52")},"8ed7":function(e,t,n){"use strict";function i(){var e=document.createEvent("HTMLEvents");e.initEvent("resize",!0,!0),e.eventType="message",window.dispatchEvent(e)}n.d(t,"a",(function(){return i}))},"8ef0":function(e,t,n){"use strict";n("cf97")},"917b":function(e,t,n){"use strict";n("6270")},"998e":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.headerBarFixed?e._e():n("a-layout-header",{class:[e.fixedHeader&&"ant-header-fixedHeader",e.sidebarOpened?"ant-header-side-opened":"ant-header-side-closed"],style:{padding:"0"}},[n("div",{staticClass:"header",class:e.theme},["mobile"===e.device?n("a-icon",{staticClass:"trigger",attrs:{type:e.collapsed?"menu-fold":"menu-unfold"},on:{click:e.toggle}}):n("a-icon",{staticClass:"trigger",attrs:{type:e.collapsed?"menu-unfold":"menu-fold"},on:{click:e.toggle}}),"desktop"===e.device?n("span",[e._v("欢迎进入 Real 管理系统")]):n("span",[e._v("Real管理")]),n("user-menu",{attrs:{theme:e.theme}})],1)])},r=[],s=n("0835"),a=n("f855"),o={name:"GlobalHeader",components:{UserMenu:s["default"]},mixins:[a["a"]],props:{mode:{type:String,default:"sidemenu"},menus:{type:Array,required:!0},theme:{type:String,required:!1,default:"dark"},collapsed:{type:Boolean,required:!1,default:!1}},data:function(){return{headerBarFixed:!1}},watch:{device:function(){"topmenu"===this.mode&&this.buildTopMenuStyle()}},mounted:function(){window.addEventListener("scroll",this.handleScroll)},methods:{handleScroll:function(){if(this.autoHideHeader){var e=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;this.headerBarFixed=e>100}else this.headerBarFixed=!1},toggle:function(){this.$emit("toggle")}}},l=o,c=(n("917b"),n("2877")),u=Object(c["a"])(l,i,r,!1,null,"118fa946",null);t["default"]=u.exports},af52:function(e,t,n){},b3d2:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-menu",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"contextmenu",style:e.style,attrs:{selectedKeys:e.selectedKeys},on:{click:e.handleClick}},e._l(e.itemList,(function(t){return n("a-menu-item",{key:t.key},[t.icon?n("a-icon",{attrs:{role:"menuitemicon",type:t.icon}}):e._e(),e._v(e._s(t.text)+" ")],1)})),1)},r=[],s={name:"Contextmenu",props:{visible:{type:Boolean,required:!1,default:!1},itemList:{type:Array,required:!0,default:function(){return[]}}},data:function(){return{left:0,top:0,target:null,selectedKeys:[]}},computed:{style:function(){return{left:this.left+"px",top:this.top+"px"}}},created:function(){var e=this;window.addEventListener("mousedown",(function(t){return e.closeMenu(t)})),window.addEventListener("contextmenu",(function(t){return e.setPosition(t)}))},methods:{closeMenu:function(e){!0===this.visible&&["menuitemicon","menuitem"].indexOf(e.target.getAttribute("role"))<0&&this.$emit("update:visible",!1)},setPosition:function(e){this.left=e.clientX,this.top=e.clientY,this.target=e.target},handleClick:function(e){var t=e.key;this.$emit("select",t,this.target),this.$emit("update:visible",!1)}}},a=s,o=(n("88d5"),n("2877")),l=Object(o["a"])(a,i,r,!1,null,"b06d8640",null);t["default"]=l.exports},cf97:function(e,t,n){},e064:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("contextmenu",{staticStyle:{"z-index":"9999"},attrs:{itemList:e.menuItemList,visible:e.menuVisible},on:{"update:visible":function(t){e.menuVisible=t},select:e.onMenuSelect}}),e.multipage?n("a-tabs",{staticClass:"tab-layout-tabs",staticStyle:{height:"52px"},attrs:{"active-key":e.activePage,"hide-add":!0,type:"editable-card"},on:{change:e.changePage,tabClick:e.tabCallBack,edit:e.editPage},nativeOn:{contextmenu:function(t){return function(t){return e.onContextmenu(t)}.apply(null,arguments)}}},e._l(e.pageList,(function(t){return n("a-tab-pane",{key:t.fullPath,attrs:{id:t.fullPath,closable:!("首页"==t.title)}},[n("span",{attrs:{slot:"tab",pagekey:t.fullPath},slot:"tab"},[e._v(e._s(t.title))])])})),1):e._e(),n("div",{staticStyle:{margin:"12px 12px 0"}},[e.multipage?n("keep-alive",[e.reloadFlag?n("router-view"):e._e()],1):[e.reloadFlag?n("router-view"):e._e()]],2)],1)},r=[],s=n("b3d2"),a=n("f855"),o=n("8ed7");function l(e){return f(e)||d(e)||u(e)||c()}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){if(e){if("string"===typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function d(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function f(e){if(Array.isArray(e))return h(e)}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var p="/index",m={name:"TabLayout",components:{Contextmenu:s["default"]},mixins:[a["a"]],data:function(){return{pageList:[],linkList:[],activePage:"",menuVisible:!1,menuItemList:[{key:"4",icon:"reload",text:"刷 新"},{key:"1",icon:"arrow-left",text:"关闭左侧"},{key:"2",icon:"arrow-right",text:"关闭右侧"},{key:"3",icon:"close",text:"关闭其它"}],reloadFlag:!0}},provide:function(){return{closeCurrent:this.closeCurrent}},computed:{multipage:function(){return!this.isMobile()&&this.$store.state.theme.multipage}},created:function(){this.$route.path!=p&&this.addIndexToFirst();var e=Object.assign({},this.$route);e.meta=Object.assign({},e.meta),this.pageList.push(e),this.linkList.push(e.fullPath),this.activePage=e.fullPath},mounted:function(){},watch:{$route:function(e){this.activePage=e.fullPath,this.linkList.indexOf(e.fullPath)<0&&(this.linkList.push(e.fullPath),this.pageList.push(Object.assign({},e)))},activePage:function(e){var t=this.linkList.lastIndexOf(e),n=this.pageList[t];n.fullPath!==this.$route.fullPath&&this.$router.push(Object.assign({},n)),this.changeTitle(n.title)},multipage:function(e){this.reloadFlag&&(e||(this.linkList=[this.$route.fullPath],this.pageList=[this.$route]))},device:function(){this.multipage&&-1===this.linkList.indexOf(p)&&this.addIndexToFirst()}},methods:{addIndexToFirst:function(){this.pageList.splice(0,0,{name:"index",path:p,fullPath:p,icon:"index",title:"首页"}),this.linkList.splice(0,0,p)},changeTitle:function(e){var t="实验室管理系统";this.$route.path===p?document.title=t:document.title=e+" · "+t},changePage:function(e){this.activePage=e},tabCallBack:function(){this.$nextTick((function(){setTimeout((function(){Object(o["a"])()}),20)}))},editPage:function(e,t){this[t](e)},remove:function(e){if(e!=p)if(1!==this.pageList.length){this.pageList.filter((function(t){return t.fullPath==e}));this.pageList=this.pageList.filter((function(t){return t.fullPath!==e}));var t=this.linkList.indexOf(e);this.linkList=this.linkList.filter((function(t){return t!==e})),t=t>=this.linkList.length?this.linkList.length-1:t,this.activePage=this.linkList[t]}else this.$message.warning("这是最后一页，不能再关闭了啦");else this.$message.warning("首页不能关闭!")},onContextmenu:function(e){var t=this.getPageKey(e.target);null!==t&&(e.preventDefault(),this.menuVisible=!0)},getPageKey:function(e,t){if(t=t||0,t>2)return null;var n=e.getAttribute("pagekey");return n=n||(e.previousElementSibling?e.previousElementSibling.getAttribute("pagekey"):null),n||(e.firstElementChild?this.getPageKey(e.firstElementChild,++t):null)},onMenuSelect:function(e,t){var n=this.getPageKey(t);switch(e){case"1":this.closeLeft(n);break;case"2":this.closeRight(n);break;case"3":this.closeOthers(n);break;case"4":this.routeReload();break;default:break}},closeCurrent:function(){this.remove(this.activePage)},closeOthers:function(e){var t=this.linkList.indexOf(e);if(e==p||e.indexOf("?ticke=")>=0)this.linkList=this.linkList.slice(t,t+1),this.pageList=this.pageList.slice(t,t+1),this.activePage=this.linkList[0];else{var n=this.pageList.slice(0,1)[0];this.linkList=this.linkList.slice(t,t+1),this.pageList=this.pageList.slice(t,t+1),this.linkList.unshift(n.fullPath),this.pageList.unshift(n),this.activePage=this.linkList[1]}},closeLeft:function(e){if(e!=p){var t=l(this.pageList),n=t.slice(0,1)[0],i=this.linkList.indexOf(e);this.linkList=this.linkList.slice(i),this.pageList=this.pageList.slice(i),this.linkList.unshift(n.fullPath),this.pageList.unshift(n),this.linkList.indexOf(this.activePage)<0&&(this.activePage=this.linkList[0])}},closeRight:function(e){var t=this.linkList.indexOf(e);this.linkList=this.linkList.slice(0,t+1),this.pageList=this.pageList.slice(0,t+1),this.linkList.indexOf(this.activePage<0)&&(this.activePage=this.linkList[this.linkList.length-1])},routeReload:function(){var e=this;this.reloadFlag=!1;this.$store.commit("SET_MULTI_PAGE",!1),this.$nextTick((function(){e.$store.commit("SET_MULTI_PAGE",!0),e.reloadFlag=!0}))},excuteCallback:function(e){e()}}},g=m,b=(n("e8e8"),n("2877")),v=Object(b["a"])(g,i,r,!1,null,null,null);t["default"]=v.exports},e8e8:function(e,t,n){"use strict";n("29ca")},eb8d:function(e,t,n){},f221:function(e,t,n){},f2fd:function(e,t,n){"use strict";n("f221")},f377:function(e,t,n){},f5b4:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:e.title,width:e.modalWidth,visible:e.visible,confirmLoading:e.confirmLoading,cancelText:"关闭"},on:{ok:e.handleOk,cancel:e.handleCancel}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",{attrs:{form:e.form}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"旧密码"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["oldPassword",e.validatorRules.oldPassword],expression:"[ 'oldPassword', validatorRules.oldPassword]"}],attrs:{type:"password",placeholder:"请输入旧密码"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"新密码"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["password",e.validatorRules.password],expression:"[ 'password', validatorRules.password]"}],attrs:{type:"password",placeholder:"请输入新密码"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"确认新密码"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["confirmPassword",e.validatorRules.confirmPassword],expression:"[ 'confirmPassword', validatorRules.confirmPassword]"}],attrs:{type:"password",placeholder:"请确认新密码"},on:{blur:e.handleConfirmBlur}})],1)],1)],1)],1)},r=[],s=n("365c"),a={name:"updatePassword",data:function(){return{title:"修改密码",modalWidth:800,visible:!1,confirmLoading:!1,validatorRules:{oldPassword:{rules:[{required:!0,message:"请输入旧密码!"}]},password:{rules:[{required:!0,message:"请输入新密码!"},{validator:this.validateToNextPassword}]},confirmPassword:{rules:[{required:!0,message:"请确认新密码!"},{validator:this.compareToFirstPassword}]}},confirmDirty:!1,labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},form:this.$form.createForm(this),url:"sys/user/updatePassword",username:""}},methods:{show:function(e){e?(this.username=e,this.form.resetFields(),this.visible=!0):this.$message.warning("当前系统无登录用户!")},handleCancel:function(){this.close()},close:function(){this.$emit("close"),this.visible=!1,this.disableSubmit=!1,this.selectedRole=[]},handleOk:function(){var e=this,t=this;this.form.validateFields((function(n,i){if(!n){t.confirmLoading=!0;var r=Object.assign({username:e.username},i);Object(s["e"])(r).then((function(n){500===n.code?(e.$message.warning("原密码错误!"),t.confirmLoading=!1):(t.$message.success("修改密码成功"),t.close(),t.confirmLoading=!1)}))}}))},validateToNextPassword:function(e,t,n){var i=this.form;t&&this.confirmDirty&&i.validateFields(["confirm"],{force:!0}),n()},compareToFirstPassword:function(e,t,n){var i=this.form;t&&t!==i.getFieldValue("password")?n("两次输入的密码不一样！"):n()},handleConfirmBlur:function(e){var t=e.target.value;this.confirmDirty=this.confirmDirty||!!t}}},o=a,l=n("2877"),c=Object(l["a"])(o,i,r,!1,null,"dc414a6e",null);t["default"]=c.exports},f668:function(e,t,n){},f855:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("2f62");function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o={computed:s({},Object(i["d"])({layoutMode:function(e){return e.theme.layout},navTheme:function(e){return e.theme.theme},primaryColor:function(e){return e.theme.color},colorWeak:function(e){return e.theme.weak},multipage:function(e){return e.theme.multipage},fixedHeader:function(e){return e.theme.fixedHeader},fixSiderbar:function(e){return e.theme.fixSiderbar},contentWidth:function(e){return e.theme.contentWidth},autoHideHeader:function(e){return e.theme.autoHideHeader},sidebarOpened:function(e){return e.theme.sidebar.opened},device:function(e){return e.theme.device}})),methods:{isMobile:function(){return"mobile"===this.device},isDesktop:function(){return"desktop"===this.device}}}},fb48:function(e,t,n){"use strict";n("1a45")}}]);