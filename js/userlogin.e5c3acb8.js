(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["userlogin"],{"37fc":function(e,t,n){},7131:function(e,t,n){"use strict";n("37fc")},7255:function(e,t,n){},a175:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-form-model",{ref:"form",attrs:{model:e.model,rules:e.validatorRules}},[a("a-form-model-item",{attrs:{required:"",prop:"username"}},[a("a-input",{attrs:{size:"large",placeholder:"请输入帐户名 / admin"},model:{value:e.model.username,callback:function(t){e.$set(e.model,"username",t)},expression:"model.username"}},[a("a-icon",{style:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"user"},slot:"prefix"})],1)],1),a("a-form-model-item",{attrs:{required:"",prop:"password"}},[a("a-input",{attrs:{size:"large",type:"password",autocomplete:"false",placeholder:"请输入密码 / 123456"},model:{value:e.model.password,callback:function(t){e.$set(e.model,"password",t)},expression:"model.password"}},[a("a-icon",{style:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"lock"},slot:"prefix"})],1)],1),a("a-row",{attrs:{gutter:0}},[a("a-col",{attrs:{span:16}},[a("a-form-model-item",{attrs:{required:"",prop:"inputCode"}},[a("a-input",{attrs:{size:"large",type:"text",placeholder:"请输入验证码"},model:{value:e.model.inputCode,callback:function(t){e.$set(e.model,"inputCode",t)},expression:"model.inputCode"}},[a("a-icon",{style:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"smile"},slot:"prefix"})],1)],1)],1),a("a-col",{staticStyle:{"text-align":"right"},attrs:{span:8}},[e.requestCodeSuccess?a("img",{staticStyle:{height:"40px",width:"110px"},attrs:{src:e.randCodeImage},on:{click:e.handleChangeCheckCode}}):a("img",{staticStyle:{"margin-top":"2px"},attrs:{src:n("d5ac")},on:{click:e.handleChangeCheckCode}})])],1)],1)],1)},r=[],o=n("365c"),i=n("2f62");function s(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=l(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}function l(e,t){if(e){if("string"===typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f={name:"LoginAccount",props:["auto"],data:function(){return{requestCodeSuccess:!1,randCodeImage:"",randCodeText:1,currdatetime:"",loginType:0,model:{username:"admin",password:"123456",inputCode:""},validatorRules:{username:[{required:!0,message:"请输入用户名!"},{validator:this.handleUsernameOrEmail}],password:[{required:!0,message:"请输入密码!",validator:"click"}],inputCode:[{required:!0,message:"请输入验证码!"}]}}},created:function(){this.handleChangeCheckCode()},methods:d(d({},Object(i["b"])(["Login"])),{},{handleChangeCheckCode:function(){var e=this;this.currdatetime=(new Date).getTime(),this.model.inputCode="",Object(o["a"])({height:40,width:110}).then((function(t){200===t.code?(e.randCodeImage=t.data.inputCodePhoto,e.randCodeText=t.data.inputCode,e.requestCodeSuccess=!0):(e.$message.error(t.message),e.requestCodeSuccess=!1)})).catch((function(){e.requestCodeSuccess=!1}))},handleUsernameOrEmail:function(e,t,n){var a=/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+((\.[a-zA-Z0-9_-]{2,3}){1,2})$/;a.test(t)?this.loginType=0:this.loginType=1,n()},validateFields:function(e,t){var n,a=this,r=[],o=s(e);try{var i=function(){var e=n.value,t=new Promise((function(t,n){a.$refs["form"].validateField(e,(function(e){e?n(e):t()}))}));r.push(t)};for(o.s();!(n=o.n()).done;)i()}catch(l){o.e(l)}finally{o.f()}Promise.all(r).then((function(){t()})).catch((function(e){t(e)}))},acceptUsername:function(e){this.model["username"]=e},handleLogin:function(e){var t=this;this.validateFields(["username","password","inputCode"],(function(e){if(e)t.$emit("validateFail");else if(t.model.inputCode.toUpperCase()!==t.randCodeText.toUpperCase())t.$emit("fail",{message:"验证码错误"});else{var n={username:t.model.username,password:t.model.password,autoLogin:t.auto};t.Login(n).then((function(e){t.$emit("success",e.result)})).catch((function(e){t.$emit("fail",e)}))}}))}})},m=f,p=n("2877"),h=Object(p["a"])(m,a,r,!1,null,"74431f14",null);t["default"]=h.exports},aa95:function(e,t,n){"use strict";n("7255")},ac2a:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"main"},[n("a-form-model",{staticClass:"user-layout-login",nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleSubmit.apply(null,arguments)}}},[n("login-account",{ref:"alogin",attrs:{auto:e.rememberMe},on:{validateFail:e.validateFail,success:e.loginSuccess,fail:e.requestFailed}}),n("a-form-model-item",[n("a-checkbox",{staticClass:"white",attrs:{"default-checked":""},on:{change:e.handleRememberMeChange}},[e._v("自动登录")]),n("router-link",{staticClass:"forge-password",staticStyle:{float:"right"},attrs:{to:{name:"forgetPassword"}}},[e._v(" 忘记密码 ")])],1),n("a-form-item",{staticStyle:{"margin-top":"24px"}},[n("a-button",{staticClass:"login-button",attrs:{size:"large",type:"primary",htmlType:"submit",loading:e.loginBtn,disabled:e.loginBtn},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.handleSubmit.apply(null,arguments)}}},[e._v("确定 ")])],1)],1)],1)},r=[];function o(){var e=new Date,t=e.getHours();return t<9?"早上好":t<=11?"上午好":t<=13?"中午好":t<20?"下午好":"晚上好"}var i=n("a175"),s={components:{LoginAccount:i["default"]},data:function(){return{rememberMe:!0,loginBtn:!1}},created:function(){this.$local.remove("ACCESS_TOKEN"),this.getRouterData(),this.rememberMe=!0},methods:{handleRememberMeChange:function(e){this.rememberMe=e.target.checked},getRouterData:function(){var e=this;this.$nextTick((function(){var t=e.$route.params.username||e.$route.query.username||"";t&&e.$refs.alogin.acceptUsername(t)}))},handleSubmit:function(){this.loginBtn=!0,this.$refs.alogin.handleLogin(this.rememberMe)},validateFail:function(){this.loginBtn=!1},requestFailed:function(e){var t=e.message||"账号或密码错误";this.$notification["error"]({message:"登录失败",description:t,duration:4}),(t.indexOf("密码错误")>0||"验证码错误"==t)&&this.$refs.alogin.handleChangeCheckCode(),this.loginBtn=!1},loginSuccess:function(){this.$router.push({name:"index"}).catch((function(){})),this.$notification.success({message:"欢迎",description:"".concat(o(),"，欢迎回来")})}}},l=s,c=(n("7131"),n("aa95"),n("2877")),u=Object(c["a"])(l,a,r,!1,null,"d60aa6d0",null);t["default"]=u.exports},d5ac:function(e,t){e.exports="data:image/png;base64,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"}}]);